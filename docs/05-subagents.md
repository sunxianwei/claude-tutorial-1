# 05 - SubAgents ä½¿ç”¨ï¼šæ™ºèƒ½ä»£ç†ç³»ç»Ÿ

## ä»€ä¹ˆæ˜¯ SubAgentsï¼Ÿ

**SubAgents** æ˜¯ Claude Code ä¸­æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚å®ƒå…è®¸ä½ ä¸ºç‰¹å®šä»»åŠ¡åˆ›å»ºä¸“ç”¨çš„ AI ä»£ç†ï¼Œæ¯ä¸ªä»£ç†éƒ½æœ‰ç‰¹å®šçš„æŠ€èƒ½ã€å·¥å…·å’Œç›®æ ‡ã€‚

### æ ¸å¿ƒæ¦‚å¿µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä½ çš„ä»»åŠ¡éœ€æ±‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Code ä»»åŠ¡åˆ†æå™¨                  â”‚
â”‚  - è¯†åˆ«ä»»åŠ¡ç±»å‹                          â”‚
â”‚  - åˆ†é…æœ€é€‚åˆçš„ SubAgent                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼        â–¼        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚CodeGen â”‚ â”‚Securityâ”‚ â”‚Testing â”‚
   â”‚Agent   â”‚ â”‚Agent   â”‚ â”‚Agent   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚        â”‚        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ æ‰§è¡Œå¹¶éªŒè¯ç»“æœ  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŸ¥çœ‹å¯ç”¨çš„ SubAgents

### ä½¿ç”¨ /agents å‘½ä»¤

åœ¨äº¤äº’æ¨¡å¼ä¸­ï¼Œä½¿ç”¨ `/agents` å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ SubAgentsï¼š

```bash
$ claude code .

> /agents
```

**è¾“å‡ºç¤ºä¾‹ï¼š**

```
ğŸ“‹ å¯ç”¨çš„ SubAgentsï¼š

å†…ç½® Agentsï¼š
  ğŸ¤– codegen       - ä»£ç ç”Ÿæˆä¸“å®¶
  ğŸ”’ security      - å®‰å…¨å®¡æŸ¥ä¸“å®¶
  ğŸ§ª testing       - æµ‹è¯•ä¸“å®¶
  ğŸ“š documentation - æ–‡æ¡£ç”Ÿæˆä¸“å®¶
  â™»ï¸  refactor     - é‡æ„ä¼˜åŒ–ä¸“å®¶
  ğŸ‘€ review        - ä»£ç å®¡æŸ¥ä¸“å®¶

è‡ªå®šä¹‰ Agentsï¼ˆæ¥è‡ª .claude/agents.jsonï¼‰ï¼š
  â˜• javaApiDeveloper      - Java API å¼€å‘ä¸“å®¶
  ğŸ¨ vueFrontendDeveloper  - Vue 3 å‰ç«¯å¼€å‘ä¸“å®¶
  ğŸ§ª testingExpert        - æµ‹è¯•ä¸“å®¶
  âš¡ performanceOptimizer - æ€§èƒ½ä¼˜åŒ–ä¸“å®¶

ä½¿ç”¨æ–¹å¼ï¼š
  claude code . --subagent=<agent-name> "ä½ çš„ä»»åŠ¡æè¿°"
  æˆ–åœ¨äº¤äº’æ¨¡å¼ä¸­: @<agent-name> ä½ çš„ä»»åŠ¡æè¿°
```

### æŸ¥çœ‹ Agent è¯¦æƒ…

```bash
# æŸ¥çœ‹ç‰¹å®š Agent çš„è¯¦ç»†ä¿¡æ¯
> /agents info codegen

# è¾“å‡ºï¼š
Agent: codegen (ä»£ç ç”Ÿæˆä¸“å®¶)
æè¿°: å¿«é€Ÿç”Ÿæˆé«˜è´¨é‡ä»£ç 
æ¨¡å‹: claude-sonnet-4-20250514
å·¥å…·: filesystem, git, bash
ä¸“é•¿:
  - æ–°åŠŸèƒ½å¼€å‘
  - ä»£ç æ¨¡æ¿ç”Ÿæˆ
  - API ç«¯ç‚¹åˆ›å»º
  - ç»„ä»¶å¼€å‘
```

### åœ¨äº¤äº’æ¨¡å¼ä¸­ä½¿ç”¨ @mentions

é™¤äº†ä½¿ç”¨ `--subagent` å‚æ•°ï¼Œä½ è¿˜å¯ä»¥åœ¨äº¤äº’æ¨¡å¼ä¸­ä½¿ç”¨ `@` æåŠ Agentï¼š

```bash
$ claude code .

> @codegen åˆ›å»ºç”¨æˆ·ç™»å½• API
[ä½¿ç”¨ CodeGen Agent æ‰§è¡Œä»»åŠ¡...]

> @security å®¡æŸ¥ç™»å½•ä»£ç çš„å®‰å…¨æ€§
[ä½¿ç”¨ Security Agent æ‰§è¡Œå®¡æŸ¥...]

> @testing ä¸ºç™»å½•åŠŸèƒ½ç”Ÿæˆæµ‹è¯•
[ä½¿ç”¨ Testing Agent ç”Ÿæˆæµ‹è¯•...]
```

## å†…ç½® SubAgents

Claude Code å†…ç½®äº†å¤šä¸ªä¸“ä¸šçš„ä»£ç†ï¼š

### 1. CodeGen Agentï¼ˆä»£ç ç”Ÿæˆï¼‰

**ç”¨é€”ï¼š** å¿«é€Ÿç”Ÿæˆé«˜è´¨é‡ä»£ç 

**ç‰¹é•¿ï¼š**
- æ–°åŠŸèƒ½å¼€å‘
- ä»£ç æ¨¡æ¿
- API ç«¯ç‚¹
- ç»„ä»¶ç”Ÿæˆ

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
claude code . "ä½¿ç”¨ CodeGen Agentï¼šä¸ºç”¨æˆ·ç®¡ç†åˆ›å»º REST API"

# æˆ–æ˜¾å¼æŒ‡å®š
claude code . --subagent=codegen "åˆ›å»ºç™»å½•åŠŸèƒ½"
```

**ç¤ºä¾‹ä»»åŠ¡ï¼š**

```
# å‰ç«¯ç¤ºä¾‹
"ä¸ºè´­ç‰©è½¦åŠŸèƒ½åˆ›å»º Vue ç»„ä»¶ï¼ŒåŒ…æ‹¬æ·»åŠ ã€åˆ é™¤ã€æ›´æ–°åŠŸèƒ½"

# åç«¯ç¤ºä¾‹
"ä¸º Post æ¨¡å—åˆ›å»º Spring Boot REST APIï¼ŒåŒ…æ‹¬ CRUD æ“ä½œ"

# æ•°æ®åº“ç¤ºä¾‹
"ç”Ÿæˆç”¨æˆ·è¡¨è¿ç§»è„šæœ¬ï¼ŒåŒ…å«å¿…è¦å­—æ®µ"
```

### 2. Security Agentï¼ˆå®‰å…¨å®¡æŸ¥ï¼‰

**ç”¨é€”ï¼š** ä»£ç å®‰å…¨åˆ†æå’Œæ”¹è¿›

**ç‰¹é•¿ï¼š**
- å®‰å…¨æ¼æ´æ£€æµ‹
- æƒé™éªŒè¯
- åŠ å¯†å»ºè®®
- SQL æ³¨å…¥é˜²æŠ¤

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
claude code . --subagent=security "å®¡æŸ¥ç™»å½•ä»£ç çš„å®‰å…¨æ€§"
```

**ç¤ºä¾‹ä»»åŠ¡ï¼š**

```
# ä»£ç å®¡æŸ¥
"æ£€æŸ¥ç”¨æˆ·è®¤è¯çš„ä»£ç ï¼Œæ‰¾å‡ºå®‰å…¨æ¼æ´"

# åŠ å¯†å»ºè®®
"ä¸ºå¯†ç å­˜å‚¨æ”¹è¿›åŠ å¯†æ–¹æ¡ˆ"

# æƒé™åˆ†æ
"æ£€æŸ¥ API æƒé™æ§åˆ¶æ˜¯å¦è¶³å¤Ÿ"
```

### 3. Testing Agentï¼ˆæµ‹è¯•ä»£ç†ï¼‰

**ç”¨é€”ï¼š** è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹

**ç‰¹é•¿ï¼š**
- å•å…ƒæµ‹è¯•
- é›†æˆæµ‹è¯•
- æµ‹è¯•è¦†ç›–ç‡åˆ†æ
- Mock æ•°æ®ç”Ÿæˆ

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
claude code . --subagent=testing "ä¸º UserService ç”Ÿæˆå•å…ƒæµ‹è¯•"
```

**ç¤ºä¾‹ä»»åŠ¡ï¼š**

```
# å•å…ƒæµ‹è¯•
"ä¸º calculatePrice å‡½æ•°ç”Ÿæˆå®Œæ•´çš„å•å…ƒæµ‹è¯•"

# é›†æˆæµ‹è¯•
"åˆ›å»ºç”¨æˆ·æ³¨å†Œæµç¨‹çš„é›†æˆæµ‹è¯•"

# E2E æµ‹è¯•
"ä¸ºç™»å½•é¡µé¢åˆ›å»º Cypress E2E æµ‹è¯•"
```

### 4. Documentation Agentï¼ˆæ–‡æ¡£ä»£ç†ï¼‰

**ç”¨é€”ï¼š** è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°æ–‡æ¡£

**ç‰¹é•¿ï¼š**
- API æ–‡æ¡£ç”Ÿæˆ
- ä»£ç æ³¨é‡Š
- README æ›´æ–°
- Changelog ç”Ÿæˆ

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
claude code . --subagent=documentation "ç”Ÿæˆ API æ–‡æ¡£"
```

**ç¤ºä¾‹ä»»åŠ¡ï¼š**

```
# API æ–‡æ¡£
"ä¸ºæ‰€æœ‰ Controller ç”Ÿæˆ Swagger/OpenAPI æ–‡æ¡£"

# ä»£ç æ³¨é‡Š
"ä¸º UserController æ·»åŠ è¯¦ç»†çš„ JavaDoc æ³¨é‡Š"

# é¡¹ç›®æ–‡æ¡£
"æ›´æ–° READMEï¼Œæ·»åŠ é¡¹ç›®æè¿°å’Œä½¿ç”¨è¯´æ˜"
```

### 5. Refactor Agentï¼ˆé‡æ„ä»£ç†ï¼‰

**ç”¨é€”ï¼š** ä»£ç é‡æ„å’Œä¼˜åŒ–

**ç‰¹é•¿ï¼š**
- ä»£ç ç®€åŒ–
- æ€§èƒ½ä¼˜åŒ–
- è®¾è®¡æ¨¡å¼åº”ç”¨
- æŠ€æœ¯å€ºåŠ¡æ¸…ç†

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
claude code . --subagent=refactor "ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½"
```

**ç¤ºä¾‹ä»»åŠ¡ï¼š**

```
# æ€§èƒ½ä¼˜åŒ–
"ä¼˜åŒ– N+1 æŸ¥è¯¢é—®é¢˜"

# ä»£ç æ¸…ç†
"ç§»é™¤é‡å¤ä»£ç å¹¶æå–åˆ°å…¬å…±æ–¹æ³•"

# è®¾è®¡æ”¹è¿›
"å°†æ¡ä»¶é€»è¾‘æ”¹ä¸ºç­–ç•¥æ¨¡å¼"
```

### 6. Review Agentï¼ˆä»£ç å®¡æŸ¥ï¼‰

**ç”¨é€”ï¼š** å…¨æ–¹ä½ä»£ç å®¡æŸ¥

**ç‰¹é•¿ï¼š**
- ä»£ç è§„èŒƒæ£€æŸ¥
- æœ€ä½³å®è·µå»ºè®®
- æ€§èƒ½åˆ†æ
- å¯ç»´æŠ¤æ€§è¯„ä¼°

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
claude code . --subagent=review "å®Œæ•´ä»£ç å®¡æŸ¥"
```

## è‡ªå®šä¹‰ SubAgentï¼ˆå®Œæ•´æŒ‡å—ï¼‰

### æ­¥éª¤ 1ï¼šåˆ›å»º agents.json é…ç½®æ–‡ä»¶

åœ¨ `.claude/agents.json` ä¸­å®šä¹‰è‡ªå®šä¹‰ä»£ç†ï¼š

```json
{
  "customAgents": {
    "javaApiDeveloper": {
      "name": "Java API å¼€å‘ä¸“å®¶",
      "description": "ä¸ºå…¬å¸å†…éƒ¨ç³»ç»Ÿå¼€å‘ Spring Boot REST API",
      "model": "claude-sonnet-4-20250514",
      "tools": ["filesystem", "git", "postgres"],
      "instructions": [
        "ä½¿ç”¨ Spring Boot 3.x å’Œ Java 21",
        "ä¸¥æ ¼éµå¾ª RESTful è®¾è®¡åŸåˆ™",
        "å®ç°å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•",
        "æ·»åŠ è¯¦ç»†çš„ Swagger/OpenAPI æ–‡æ¡£",
        "åŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•ï¼ˆJUnit 5 + Mockitoï¼‰",
        "æµ‹è¯•è¦†ç›–ç‡å¿…é¡» >= 80%",
        "ä½¿ç”¨ Lombok @RequiredArgsConstructor è¿›è¡Œä¾èµ–æ³¨å…¥",
        "æ‰€æœ‰ API å“åº”ä½¿ç”¨ç»Ÿä¸€çš„æ•°æ®ç»“æ„",
        "å®ç°è¯·æ±‚å‚æ•°éªŒè¯å’Œå¼‚å¸¸å¤„ç†",
        "è®°å½•å…³é”®æ“ä½œçš„å®¡è®¡æ—¥å¿—",
        "è€ƒè™‘æ€§èƒ½ä¼˜åŒ–ï¼ˆç¼“å­˜ã€æŸ¥è¯¢ä¼˜åŒ–ç­‰ï¼‰",
        "å‚è€ƒæœ¬é¡¹ç›®çš„ CLAUDE.md ä¸­å®šä¹‰çš„è§„èŒƒ"
      ],
      "systemPrompt": "ä½ æ˜¯ä¸€ä½æœ‰ 10 å¹´ Java å¼€å‘ç»éªŒçš„é«˜çº§åç«¯å·¥ç¨‹å¸ˆã€‚ä½ ç†Ÿæ‚‰å…¬å¸çš„æŠ€æœ¯æ ˆå’Œå¼€å‘è§„èŒƒã€‚ç”Ÿæˆçš„ä»£ç å¿…é¡»ç¬¦åˆä¼ä¸šçº§åº”ç”¨çš„è´¨é‡æ ‡å‡†ã€‚"
    },

    "vueFrontendDeveloper": {
      "name": "Vue 3 å‰ç«¯å¼€å‘ä¸“å®¶",
      "description": "ä¸ºå…¬å¸å†…éƒ¨ç³»ç»Ÿå¼€å‘ Vue 3 ç»„ä»¶å’Œé¡µé¢",
      "model": "claude-sonnet-4-20250514",
      "tools": ["filesystem", "git", "npm"],
      "instructions": [
        "ä½¿ç”¨ Vue 3 Composition API + TypeScript",
        "ç»„ä»¶æ–‡ä»¶åä½¿ç”¨ PascalCase",
        "æ‰€æœ‰ props éƒ½å¿…é¡»æœ‰è¯¦ç»†çš„ç±»å‹å®šä¹‰",
        "ä½¿ç”¨ scoped style éš”ç¦»æ ·å¼",
        "å®ç°å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡",
        "éµå¾ªå…¬å¸çš„ç»„ä»¶å‘½åè§„èŒƒ",
        "æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆVitest + Testing Libraryï¼‰",
        "æµ‹è¯•è¦†ç›–ç‡å¿…é¡» >= 80%",
        "ä½¿ç”¨ Pinia ç®¡ç†å…¨å±€çŠ¶æ€",
        "å®ç°é”™è¯¯è¾¹ç•Œå’ŒåŠ è½½æ€",
        "æ·»åŠ è¯¦ç»†çš„ä»£ç æ³¨é‡Šå’Œç±»å‹æ–‡æ¡£",
        "ä¼˜åŒ–æ€§èƒ½ï¼ˆmemoizationã€è™šæ‹Ÿæ»šåŠ¨ç­‰ï¼‰"
      ],
      "systemPrompt": "ä½ æ˜¯ä¸€ä½æœ‰ 8 å¹´ Vue å¼€å‘ç»éªŒçš„å‰ç«¯å·¥ç¨‹å¸ˆã€‚ä½ å…³æ³¨ç”¨æˆ·ä½“éªŒå’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚ç”Ÿæˆçš„ä»£ç å¿…é¡»ç¬¦åˆç°ä»£å‰ç«¯å¼€å‘çš„æœ€ä½³å®è·µã€‚"
    },

    "testingExpert": {
      "name": "æµ‹è¯•ä¸“å®¶",
      "description": "ä¸ºé¡¹ç›®ç”Ÿæˆå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹",
      "model": "claude-sonnet-4-20250514",
      "tools": ["filesystem", "git"],
      "instructions": [
        "åˆ†æä»£ç å¹¶è¯†åˆ«æ‰€æœ‰å…³é”®ä¸šåŠ¡é€»è¾‘",
        "ç”Ÿæˆå…¨é¢çš„å•å…ƒæµ‹è¯•ç”¨ä¾‹",
        "åŒ…æ‹¬æ­£å¸¸æ¡ˆä¾‹ã€è¾¹ç•Œæ¡ˆä¾‹å’Œå¼‚å¸¸æ¡ˆä¾‹",
        "å¯¹äº Java ä»£ç ï¼šä½¿ç”¨ JUnit 5 + Mockito",
        "å¯¹äºå‰ç«¯ä»£ç ï¼šä½¿ç”¨ Vitest + Testing Library",
        "æ¯ä¸ªæµ‹è¯•å¿…é¡»æœ‰æ¸…æ™°çš„è¯´æ˜æ³¨é‡Š",
        "ç¡®ä¿æµ‹è¯•çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§",
        "æ·»åŠ é›†æˆæµ‹è¯•è„šæœ¬",
        "ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š",
        "ç›®æ ‡è¦†ç›–ç‡ >= 80%"
      ],
      "systemPrompt": "ä½ æ˜¯ä¸€ä½ QA å·¥ç¨‹å¸ˆï¼Œå…·æœ‰æ·±åšçš„æµ‹è¯•ç†è®ºçŸ¥è¯†ã€‚ä½ æ“…é•¿ç¼–å†™å…¨é¢ã€é«˜æ•ˆçš„æµ‹è¯•ç”¨ä¾‹ã€‚"
    },

    "performanceOptimizer": {
      "name": "æ€§èƒ½ä¼˜åŒ–ä¸“å®¶",
      "description": "åˆ†æå’Œä¼˜åŒ–åº”ç”¨æ€§èƒ½",
      "model": "claude-opus-4-1-20250805",
      "tools": ["filesystem", "git", "postgres"],
      "instructions": [
        "åˆ†æä»£ç æ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ",
        "è¯†åˆ« N+1 æŸ¥è¯¢é—®é¢˜",
        "æå‡ºæ•°æ®åº“ç´¢å¼•ä¼˜åŒ–å»ºè®®",
        "æ¨èç¼“å­˜ç­–ç•¥",
        "åˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µ",
        "å»ºè®®ä»£ç é‡æ„æ”¹è¿›æ€§èƒ½",
        "æå‡ºå‰ç«¯ä¼˜åŒ–æ–¹æ¡ˆï¼ˆæ‡’åŠ è½½ã€ä»£ç åˆ†å‰²ç­‰ï¼‰",
        "ç”Ÿæˆæ€§èƒ½æµ‹è¯•åŸºå‡†",
        "æä¾›è¯¦ç»†çš„ä¼˜åŒ–æŠ¥å‘Šå’Œå»ºè®®"
      ],
      "systemPrompt": "ä½ æ˜¯ä¸€ä½æ€§èƒ½ä¼˜åŒ–ä¸“å®¶ï¼Œæœ‰ä¸°å¯Œçš„å¤§è§„æ¨¡ç³»ç»Ÿä¼˜åŒ–ç»éªŒã€‚ä½ èƒ½è¯†åˆ«æ€§èƒ½é—®é¢˜å¹¶æå‡ºç§‘å­¦çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚"
    }
  }
}
```

### æ­¥éª¤ 2ï¼šä½¿ç”¨è‡ªå®šä¹‰ SubAgent

#### æ–¹å¼ Aï¼šå•ä¸ª Agent ä½¿ç”¨

```bash
# ä½¿ç”¨ Java API å¼€å‘ä¸“å®¶
claude code . --subagent=javaApiDeveloper "ä¸ºç”¨æˆ·ç®¡ç†æ¨¡å—åˆ›å»ºå®Œæ•´çš„ REST API"

# ä½¿ç”¨ Vue å‰ç«¯å¼€å‘ä¸“å®¶
claude code . --subagent=vueFrontendDeveloper "åˆ›å»ºç”¨æˆ·ç®¡ç†é¡µé¢ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€æœç´¢ã€ç¼–è¾‘åŠŸèƒ½"

# ä½¿ç”¨æµ‹è¯•ä¸“å®¶
claude code . --subagent=testingExpert "ä¸º UserService ç”Ÿæˆå®Œæ•´çš„å•å…ƒæµ‹è¯•"

# ä½¿ç”¨æ€§èƒ½ä¼˜åŒ–ä¸“å®¶
claude code . --subagent=performanceOptimizer "åˆ†æå¹¶ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½"
```

#### æ–¹å¼ Bï¼šé“¾å¼æ‰§è¡Œå¤šä¸ª Agent

```bash
# ä»£ç ç”Ÿæˆ â†’ æµ‹è¯• â†’ å®‰å…¨å®¡æŸ¥ â†’ ä¼˜åŒ– â†’ æ–‡æ¡£
claude code . \
  --subagent=javaApiDeveloper \
  --chain="testingExpert,security,performanceOptimizer,documentation" \
  "åˆ›å»ºè®¢å•ç®¡ç† APIï¼ŒåŒ…æ‹¬æŸ¥è¯¢ã€åˆ›å»ºã€æ›´æ–°åŠŸèƒ½"
```

### æ­¥éª¤ 3ï¼šå®Œæ•´çš„å®æˆ˜ä¾‹å­

#### ä¾‹å­ 1ï¼šå¼€å‘ç”¨æˆ·è®¤è¯ API

**åœºæ™¯ï¼š** ä¸ºå…¬å¸ç³»ç»Ÿæ·»åŠ ç”¨æˆ·è®¤è¯æ¥å£

**ä»£ç ç”Ÿæˆé˜¶æ®µï¼š**

```bash
claude code . --subagent=javaApiDeveloper \
  "åˆ›å»ºç”¨æˆ·è®¤è¯ APIï¼Œéœ€æ±‚å¦‚ä¸‹ï¼š

## åŠŸèƒ½éœ€æ±‚
1. ç”¨æˆ·ç™»å½• - POST /api/v1/auth/login
   - è¾“å…¥ï¼šusername, password
   - è¾“å‡ºï¼šJWT token, user info
   - å¯†ç ä½¿ç”¨ BCrypt åŠ å¯†

2. ç”¨æˆ·æ³¨å†Œ - POST /api/v1/auth/register
   - è¾“å…¥ï¼šusername, password, email
   - è¾“å‡ºï¼šuser info
   - éªŒè¯ email æ ¼å¼å’Œ username å”¯ä¸€æ€§

3. åˆ·æ–° token - POST /api/v1/auth/refresh
   - è¾“å…¥ï¼šrefresh token
   - è¾“å‡ºï¼šnew JWT token

## æŠ€æœ¯è¦æ±‚
- ä½¿ç”¨ Spring Security å®ç°è®¤è¯
- JWT token æœ‰æ•ˆæœŸ 1 å°æ—¶
- Refresh token æœ‰æ•ˆæœŸ 7 å¤©
- å®ç°é€Ÿç‡é™åˆ¶é˜²æ­¢æš´åŠ›ç ´è§£
- æ·»åŠ è¯¦ç»†çš„é”™è¯¯å¤„ç†
- ç”Ÿæˆ Swagger æ–‡æ¡£
"
```

**æµ‹è¯•é˜¶æ®µï¼š**

```bash
claude code . --subagent=testingExpert \
  "ä¸ºä¸Šé¢ç”Ÿæˆçš„ AuthController å’Œ AuthService ç”Ÿæˆå®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹"
```

**ä¼˜åŒ–é˜¶æ®µï¼š**

```bash
claude code . --subagent=performanceOptimizer \
  "åˆ†æè®¤è¯ä»£ç çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å…³æ³¨ï¼š
  - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
  - å¯†ç éªŒè¯çš„æ€§èƒ½
  - ç¼“å­˜ç­–ç•¥
  "
```

#### ä¾‹å­ 2ï¼šå¼€å‘ç”¨æˆ·ç®¡ç†é¡µé¢

**åœºæ™¯ï¼š** ä¸ºåå°ç®¡ç†ç³»ç»Ÿåˆ›å»ºç”¨æˆ·ç®¡ç†é¡µé¢

**ä»£ç ç”Ÿæˆé˜¶æ®µï¼š**

```bash
claude code . --subagent=vueFrontendDeveloper \
  "åˆ›å»ºç”¨æˆ·ç®¡ç†é¡µé¢ç»„ä»¶ï¼Œéœ€æ±‚å¦‚ä¸‹ï¼š

## åŠŸèƒ½éœ€æ±‚
1. ç”¨æˆ·åˆ—è¡¨å±•ç¤º
   - è¡¨æ ¼æ˜¾ç¤ºï¼šIDã€ç”¨æˆ·åã€é‚®ç®±ã€åˆ›å»ºæ—¶é—´ã€æ“ä½œ
   - æ”¯æŒåˆ†é¡µï¼ˆæ¯é¡µ 20 æ¡ï¼‰
   - æ”¯æŒæ’åºå’Œæœç´¢

2. ç”¨æˆ·æœç´¢
   - æ”¯æŒæŒ‰ç”¨æˆ·åå’Œé‚®ç®±æœç´¢
   - å®æ—¶æœç´¢æç¤º

3. ç”¨æˆ·æ“ä½œ
   - ç¼–è¾‘ç”¨æˆ·ä¿¡æ¯çš„æ¨¡æ€æ¡†
   - åˆ é™¤ç”¨æˆ·ï¼ˆç¡®è®¤å¯¹è¯ï¼‰
   - æ‰¹é‡åˆ é™¤

4. åŠ è½½å’Œé”™è¯¯çŠ¶æ€
   - æ˜¾ç¤ºåŠ è½½ä¸­...
   - æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
   - ä¸ºç©ºæ—¶æ˜¾ç¤ºæç¤º

## æŠ€æœ¯è¦æ±‚
- ä½¿ç”¨ Vue 3 Composition API
- TypeScript ç±»å‹æ£€æŸ¥
- ä½¿ç”¨ Element Plus ç»„ä»¶åº“
- å“åº”å¼è®¾è®¡ï¼ˆæ”¯æŒç§»åŠ¨è®¾å¤‡ï¼‰
- æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰
"
```

**æµ‹è¯•é˜¶æ®µï¼š**

```bash
claude code . --subagent=testingExpert \
  "ä¸ºç”¨æˆ·ç®¡ç†é¡µé¢ç”Ÿæˆå®Œæ•´çš„å•å…ƒæµ‹è¯•"
```

### æ­¥éª¤ 4ï¼šæ·»åŠ è‡ªå®šä¹‰ Agent åˆ°é¡¹ç›®

**é¡¹ç›®ç»“æ„ï¼š**

```
your-project/
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ config.json
â”‚   â”œâ”€â”€ agents.json          # â† æ”¾è¿™é‡Œ
â”‚   â””â”€â”€ mcp-servers.json
â”œâ”€â”€ CLAUDE.md
â””â”€â”€ src/
```

**éªŒè¯é…ç½®ï¼š**

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ agent
claude-code --list-agents

# æ˜¾ç¤ºç‰¹å®š agent çš„è¯¦æƒ…
claude-code --agent-info=javaApiDeveloper

# æµ‹è¯• agent åŠŸèƒ½
claude-code --test-agent=javaApiDeveloper
```

### æ­¥éª¤ 5ï¼šæœ€ä½³å®è·µ

#### 1. ä¸ºæ¯ä¸ª Agent æ·»åŠ æ˜ç¡®çš„è§’è‰²å®šä¹‰

```json
{
  "systemPrompt": "ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ [èŒä½] å·¥ç¨‹å¸ˆï¼Œæ‹¥æœ‰ [å¹´æ•°] å¹´çš„ç»éªŒ..."
}
```

#### 2. åœ¨ instructions ä¸­åˆ—å‡ºå…·ä½“è¦æ±‚

```json
{
  "instructions": [
    "âœ… DOï¼šæ˜ç¡®çš„æ­£å‘æŒ‡å¯¼",
    "âŒ DON'Tï¼šéœ€è¦é¿å…çš„è¡Œä¸º"
  ]
}
```

#### 3. å®šæœŸæ›´æ–° Agent é…ç½®

æ ¹æ®é¡¹ç›®è¿›å±•ï¼Œä¸æ–­æ”¹è¿› Agent çš„æŒ‡å¯¼ï¼Œä½¿å…¶æ›´é€‚åˆé¡¹ç›®éœ€æ±‚ã€‚

#### 4. ç»“åˆè§„åˆ™æ–‡ä»¶ä½¿ç”¨

åœ¨ `CLAUDE.md` ä¸­å®šä¹‰å…¨å±€è§„èŒƒï¼ŒAgent ä¼šè‡ªåŠ¨éµå®ˆã€‚

---

## é“¾å¼ Agent å·¥ä½œæµ

### åœºæ™¯ï¼šå®Œæ•´åŠŸèƒ½å¼€å‘

```
éœ€æ±‚è¯´æ˜
  â†“
[CodeGen] ä»£ç ç”Ÿæˆ
  â†“
[Testing] æ·»åŠ æµ‹è¯•
  â†“
[Security] å®‰å…¨å®¡æŸ¥
  â†“
[Documentation] ç”Ÿæˆæ–‡æ¡£
  â†“
[Review] æœ€ç»ˆå®¡æŸ¥
  â†“
å®Œæˆ
```

**è‡ªåŠ¨åŒ–è„šæœ¬ï¼š**

```bash
#!/bin/bash
# dev-workflow.sh

PROJECT_PATH=$1
FEATURE_DESC=$2

echo "ğŸš€ å¼€å§‹å®Œæ•´çš„åŠŸèƒ½å¼€å‘æµç¨‹..."

echo "1ï¸âƒ£ ä»£ç ç”Ÿæˆ..."
claude code $PROJECT_PATH --subagent=codegen "$FEATURE_DESC"

echo "2ï¸âƒ£ ç”Ÿæˆæµ‹è¯•..."
claude code $PROJECT_PATH --subagent=testing "ä¸ºä¸Šé¢çš„ä»£ç ç”Ÿæˆå®Œæ•´çš„å•å…ƒæµ‹è¯•"

echo "3ï¸âƒ£ å®‰å…¨å®¡æŸ¥..."
claude code $PROJECT_PATH --subagent=security "å®¡æŸ¥å®‰å…¨æ€§"

echo "4ï¸âƒ£ ç”Ÿæˆæ–‡æ¡£..."
claude code $PROJECT_PATH --subagent=documentation "ç”Ÿæˆ API æ–‡æ¡£"

echo "5ï¸âƒ£ æœ€ç»ˆå®¡æŸ¥..."
claude code $PROJECT_PATH --subagent=review "å®Œæ•´ä»£ç å®¡æŸ¥"

echo "âœ… æµç¨‹å®Œæˆï¼"
```

**ä½¿ç”¨æ–¹å¼ï¼š**

```bash
chmod +x dev-workflow.sh
./dev-workflow.sh . "ä¸ºè®¢å•æ¨¡å—æ·»åŠ æ”¯ä»˜åŠŸèƒ½"
```

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹ 1ï¼šå¿«é€Ÿç”Ÿæˆ Spring Boot API

```bash
# ä½¿ç”¨ä¸“å®¶ Agent åˆ›å»º API
claude code . --subagent=apiDeveloper --chain="test,security,doc" \
  "åˆ›å»ºè®¢å• APIï¼ŒåŒ…æ‹¬æŸ¥è¯¢ã€åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤åŠŸèƒ½"

# --chain å‚æ•°æŒ‡å®šè‡ªåŠ¨é“¾å¼æ‰§è¡Œçš„ agent
```

**é¢„æœŸè¾“å‡ºï¼š**
- âœ… å®Œæ•´çš„ OrderController
- âœ… å•å…ƒæµ‹è¯• OrderControllerTest
- âœ… å®‰å…¨æ€§æ£€æŸ¥å®Œæˆ
- âœ… Swagger æ–‡æ¡£

### æ¡ˆä¾‹ 2ï¼šVue ç»„ä»¶å®Œæ•´å¼€å‘

```bash
claude code . --subagent=frontendDeveloper --chain="test,doc" \
  "åˆ›å»ºç”¨æˆ·ç®¡ç†é¡µé¢ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€æœç´¢ã€ç¼–è¾‘ã€åˆ é™¤åŠŸèƒ½"
```

**é¢„æœŸè¾“å‡ºï¼š**
- âœ… UserManagement.vue ç»„ä»¶
- âœ… å•å…ƒæµ‹è¯•
- âœ… Storybook æ–‡æ¡£
- âœ… å“åº”å¼è®¾è®¡

### æ¡ˆä¾‹ 3ï¼šæ•°æ®åº“è¿ç§»

```bash
claude code . --subagent=database \
  "åˆ›å»ºç”¨æˆ·è¡¨è¿ç§»ï¼ŒåŒ…æ‹¬å­—æ®µå’Œç´¢å¼•"
```

## SubAgent é…ç½®æœ€ä½³å®è·µ

### 1. æ˜ç¡®çš„æŒ‡ä»¤

```json
{
  "instructions": [
    "ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼",
    "100% æµ‹è¯•è¦†ç›–ç‡",
    "ç¬¦åˆ Airbnb ESLint è§„åˆ™",
    "åŒ…å«è¯¦ç»†çš„é”™è¯¯å¤„ç†"
  ]
}
```

### 2. åˆé€‚çš„å·¥å…·é›†

```json
{
  "tools": ["filesystem", "git", "npm", "postgres"]
}
```

### 3. æ¨¡å‹é€‰æ‹©

- **Claude Opus 4.1** - å¤æ‚ä»»åŠ¡ï¼ˆç”Ÿæˆå®Œæ•´ç³»ç»Ÿï¼‰
- **Claude Sonnet 4** - å¹³è¡¡é€‰æ‹©ï¼ˆå¤§å¤šæ•°ä»»åŠ¡ï¼‰ â­ æ¨è
- **Claude Haiku 4.5** - ç®€å•å¿«é€Ÿä»»åŠ¡ï¼ˆæˆæœ¬ä¼˜åŒ–ï¼‰

## ä¸‹ä¸€ç« 

ğŸ‘‰ **[ç¬¬ 6 ç« ï¼šè§„åˆ™æ–‡ä»¶ç³»ç»Ÿ](06-rules-file.md)** - CLAUDE.md å®Œå…¨æŒ‡å—

---

**æ—¶é—´æç¤ºï¼š** æœ¬ç« é˜…è¯» 15 åˆ†é’Ÿï¼Œå®è·µ 20 åˆ†é’Ÿ â±ï¸
